<app-admin-header></app-admin-header>
<nav class="navbar navbar-expand-lg bg-body-tertiary mt-3">
    <div class="container-fluid">
      <a class="navbar-brand" >Reporte de Revistas Populares</a>
      
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        
        <form class="d-flex" role="search" [formGroup]="form" (ngSubmit)="submit()">
        
          <input 
            class="form-control me-2" 
            type="date" 
            placeholder="inicio" 
            aria-label="inicio"
            formControlName="startDate"
            >
          <input 
            class="form-control me-2" 
            type="date" 
            placeholder="final" 
            aria-label="final"
            formControlName="endDate">
          <button class="btn btn-outline-success" >Buscar</button>
        </form>
      
    </div>
    </div>
</nav>

<main>
    <section class="form-control" style="margin: 1%;">
        <div class="container my-4">
            <h2 class="text-center">Reporte 5 Revistas mas Populares</h2>

            @for (magazine of magazineList; track $index) {
                <div class="card">
                    <h3 class="text-center">{{$index + 1}}) ID: {{magazine.id}} Revista: {{magazine.tittle}}</h3>
                    <h5 class="card-subtitle text-center">Suscriptores: {{magazine.likes}}</h5> 
                    <div class="body">
                            
                        <table class="table table-striped table-hover table-bordered text-center">
                                <thead class="table-dark">
                                    <tr>
                                        <th scope="col">Nombre de Usuario</th>
                                        <th scope="col">Descripcion</th>
                                        <th scope="col">Gustos</th>
                                        <th scope="col">Hobbies</th>
                                        <th scope="col">Temas de Interes</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @for (profile of magazine.subscriberList; track $index) {
                                        <tr>
                                            <th scope="row">{{profile.userName}}</th>
                                            <td>{{profile.description}}</td>
                                            <td>{{profile.tastes}}</td>
                                            <td>{{profile.hobbies}}</td>
                                            <td>{{profile.topicOfInterest}}</td>
                                        </tr>
                                    }
                                </tbody>
                        </table>

                    
                    </div>  
                </div>
            }
            
        </div>
    </section>
    <app-show-ad [url]="url"></app-show-ad>
</main>