<app-editor-header></app-editor-header>

<nav class="navbar navbar-expand-lg bg-body-tertiary mt-3">
    <div class="container-fluid">
      <a class="navbar-brand" >Reporte de Pagos</a>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <form class="d-flex" role="search" [formGroup]="form" (ngSubmit)="submit()">
            <input type="date" class="form-control" formControlName="startDate">
            <input type="date" class="form-control" formControlName="endDate">
            <select class="form-select" formControlName="id" >
                <option value="0">Todas</option>
              @for (magazine of options; track $index) {
                <option value="{{magazine.id}}">{{$index + 1}}) {{magazine.tittle}}</option>
              }
            </select>
          <button class="btn btn-outline-success" >Buscar</button>
        </form>
      
        </div>
    </div>
</nav>

<main>
    <h2 class="text-center text-primary mt-4">Reporte de las 5 revistas con mas Me Gusta</h2>
    <section class="container">
        @for (magazine of magazineList; track $index) {
            <div class="card text-bg-succes shadow mt-5">
                <div class="card-body">
                    <table class="table table-striped table-hover table-bordered text-center ">
                        <thead class="table-dark">
                            <tr>
                                <th scope="col">No.</th>
                                <th scope="col">Titulo</th>
                                <th scope="col">Fecha</th>
                                <th scope="col">Me Gusta</th>
                            </tr>
                        </thead>
                        <tbody>
                                <tr>
                                    <th scope="row">{{$index + 1}}</th>
                                    <th scope="row">{{magazine.tittle}}</th>
                                    <th scope="row">{{magazine.date}}</th>
                                    <th scope="row">{{magazine.likes}}</th>
                                </tr>
                        </tbody>
                    </table>

<h5 class="text-center text-dark">Lista de Me Gusta</h5>
    
        <table class="table table-striped table-hover table-bordered text-center ">
            <thead class="table-dark">
                <tr>
                    <th scope="col">No.</th>
                    <th scope="col">Nombre</th>
                </tr>
            </thead>
            <tbody>
            @for (subs of magazine.subscriberList; track $index) {
                    <tr>    
                        <th scope="row">{{$index + 1}}</th>
                        <th scope="row">{{subs.userName}}</th>  
                    </tr>      
            }
            </tbody>
        </table>
                </div>
            </div>
        }
    </section>
</main>